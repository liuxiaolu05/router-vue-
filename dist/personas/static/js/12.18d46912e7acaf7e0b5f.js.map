{"version":3,"sources":["webpack:///static/js/12.18d46912e7acaf7e0b5f.js","webpack:///src/pages/village/villageDetail.vue","webpack:///./src/pages/village/villageDetail.vue","webpack:///./src/assets/js/amap.js","webpack:///./src/assets/image/loser.jpg","webpack:///./src/pages/village/villageDetail.vue?cc9a"],"names":["webpackJsonp","CT32","module","exports","__webpack_require__","_interopRequireDefault","obj","__esModule","default","Object","defineProperty","value","_amap","_amap2","_loser","_loser2","data","columns","dataTable","villageTitle","imgSrc","old","longtitude","latitude","clearVal","common","older","title","key","newer","mapVal","tipVal","tipNearbyVal","placeSearch","centerPoint","near","map","name","lo","defaultImgSrc","defaultShowImg","backText","methods","getTableData","listData","self","this","id","$route","query","type","concat","axios","get","getUrl","params","loading","unload","then","respone","detail","picture","community_name","floatNum","leftNum","parseIntNum","forEach","item","index","selfContains","parseInt","val","comUtils","toThousands","parseFloat","toFixed","split","property_id","centerPointerFn","catch","error","back","$store","state","path","$router","push","toProperty","reset","search","_this","$","trim","nearby","searchNearBy","status","result","clear","change","setTimeout","document","getElementById","focus","clearCon","closeNear","location","centerPointer","centerMarker","setZoomAndCenter","AMap","LngLat","Marker","icon","position","on","centerPointerMarker","emit","target","setFitView","e","infoWindow","contentHtml","InfoWindow","offset","Pixel","content","open","getPosition","mounted","Map","resizeEnable","zoom","service","PlaceSearch","pageSize","pageIndex","panel","SelectChangeEvent","lng","lat","P+4H","__webpack_exports__","__WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_node_modules_iview_loader_index_js_ref_0_1_villageDetail_vue__","__WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_node_modules_iview_loader_index_js_ref_0_1_villageDetail_vue___default","n","__WEBPACK_IMPORT_KEY__","d","__WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_d1e695ba_hasScoped_false_transformToRequire_video_src_source_src_img_src_image_xlink_href_buble_transforms_node_modules_vue_loader_lib_selector_type_template_index_0_node_modules_iview_loader_index_js_ref_0_1_villageDetail_vue__","normalizeComponent","Component","a","fkWs","callback","window","script","createElement","src","body","appendChild","h6Al","p","n9Cc","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","domProps","textContent","_s","_v","click","class","onerror","alt","_l","innerHTML","_m","directives","rawName","expression","placeholder","keyup","$event","_k","keyCode","input","composing","$set","placement","staticRenderFns","esExports"],"mappings":"AAAAA,cAAc,KAERC,KACA,SAAUC,EAAQC,EAASC,GAEjC,YAeA,SAASC,GAAuBC,GAAO,MAAOA,IAAOA,EAAIC,WAAaD,GAAQE,QAASF,GAZvFG,OAAOC,eAAeP,EAAS,cAC3BQ,OAAO,GCsDX,IAAAC,GAAAR,EAAA,QDjDIS,EAASR,EAAuBO,GCmDpCE,EAAAV,EAAA,QD/CIW,EAAUV,EAAuBS,EAmErCX,GAAQK,SACJQ,KAAM,WACF,OACIC,WACAC,aACAC,aCnBZ,GDoBYC,OAAQ,GACRC,KAAK,EACLC,WAAY,KACZC,SAAU,KACVC,UAAU,EACVC,UACAC,QACIC,MClBhB,ODmBgBC,ICjBhB,kBDmBgBD,MCjBhB,ODkBgBC,IChBhB,kBDkBgBD,MChBhB,ODiBgBC,ICfhB,eDiBgBD,MCfhB,ODgBgBC,ICdhB,kBDgBgBD,MCdhB,ODegBC,ICZhB,uBDcYC,QACIF,MCZhB,ODagBC,ICXhB,sBDagBD,MCXhB,ODYgBC,ICVhB,2BDYgBD,MCVhB,ODWgBC,ICThB,gBDWgBD,MCThB,ODUgBC,ICPhB,mBDSYE,QACIC,OCRhB,GDSgBC,aCRhB,GDSgBC,YCRhB,KDSgBC,YCRhB,KDSgBC,MCRhB,EDSgBC,ICRhB,KDSgBC,KCRhB,GDSgBC,IAAI,GCNpBC,cAAAxB,EAAAP,QDSYgC,eAAgB,aAAezB,EAAQP,QCRnD,IDSYiC,SCPZ,WDUIC,SACIC,aAAc,WACV,GACIC,GADAC,EAAOC,KAGXC,EAAKD,KAAKE,OAAOC,MCV7BF,GDWgBG,EAAOJ,KAAKE,OAAOC,MCVnCC,IDWYL,GAAKpB,SACDE,MCThB,ODUgBC,ICRhB,sBDUgBD,MCRhB,ODSgBC,ICPhB,iBDSgBD,MCPhB,ODQgBC,ICNhB,sBDQgBD,MCNhB,ODOgBC,ICLhB,0BDOgBD,MCLhB,MDMgBC,ICJhB,mBDMgBD,MCJhB,QDKgBC,ICHhB,oBDKgBD,MCHhB,QDIgBC,ICFhB,sBDIgBD,MCFhB,SDGgBC,ICDhB,mBDGgBD,MCDhB,SDEgBC,ICChB,UDCwB,KAARsB,GACAL,EAAKxB,KCArB,EDCgBwB,EAAK5B,QAAU4B,EAAKpB,OAAO0B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","file":"static/js/12.18d46912e7acaf7e0b5f.js","sourcesContent":["webpackJsonp([12],{\n\n/***/ \"CT32\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _amap = __webpack_require__(\"fkWs\");\n\nvar _amap2 = _interopRequireDefault(_amap);\n\nvar _loser = __webpack_require__(\"h6Al\");\n\nvar _loser2 = _interopRequireDefault(_loser);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nexports.default = {\n    data: function data() {\n        return {\n            columns: [],\n            dataTable: [],\n            villageTitle: '',\n            imgSrc: '', //图片地址,\n            old: false, //图表高度\n            longtitude: null, //经度\n            latitude: null, //维度\n            clearVal: true, //隐藏清空按钮 input\n            common: [],\n            older: [{\n                title: '近期成交',\n                key: 'recent_volume'\n            }, {\n                title: '竣工时间',\n                key: 'complete_time'\n            }, {\n                title: '建筑年代',\n                key: 'year_built'\n            }, {\n                title: '物业类型',\n                key: 'property_type'\n            }, {\n                title: '当期户数',\n                key: 'current_households'\n            }],\n            newer: [{\n                title: '装修状况',\n                key: 'decoration_status'\n            }, {\n                title: '开盘时间',\n                key: 'opening_quotation_time'\n            }, {\n                title: '交房时间',\n                key: 'others_time'\n            }, {\n                title: '主力户型',\n                key: 'main_apartment'\n            }],\n            mapVal: {\n                tipVal: '',\n                tipNearbyVal: '',\n                placeSearch: null,\n                centerPoint: null,\n                near: true,\n                map: null,\n                name: '',\n                lo: false // 查看附近\n            },\n            defaultImgSrc: _loser2.default,\n            defaultShowImg: 'this.src=\"' + _loser2.default + '\"',\n            backText: '返回小区列表'\n        };\n    },\n    methods: {\n        getTableData: function getTableData() {\n            var self = this,\n                listData,\n                //数据源，重新整合在一起 title\\val\n            id = this.$route.query.id,\n                type = this.$route.query.type;\n            self.common = [{\n                title: '楼盘地址',\n                key: 'community_address'\n            }, {\n                title: '小区均价',\n                key: 'avg_priceint'\n            }, {\n                title: '物业类别',\n                key: 'property_category'\n            }, {\n                title: '物业公司',\n                key: 'property_company_name'\n            }, {\n                title: '总户数',\n                key: 'sum_households'\n            }, {\n                title: '覆盖会员数',\n                key: 'gome_member_num'\n            }, {\n                title: '会员覆盖率',\n                key: 'gome_member_cover'\n            }, {\n                title: '近7日销售额',\n                key: 'gome_sale_7day'\n            }, {\n                title: '营销价值评分',\n                key: 'score'\n            }];\n            if (type == '1') {\n                self.old = false;\n                self.columns = self.common.concat(self.newer);\n            } else {\n                self.old = true;\n                self.columns = self.common.concat(self.older);\n            }\n            axios.get(getUrl(\"villageDetail\"), {\n                params: {\n                    id: id\n                },\n                loading: true,\n                unload: true\n            }).then(function (respone) {\n                if (respone.detail) {\n                    listData = respone.detail;\n                    self.imgSrc = listData.picture ? listData.picture : self.defaultImgSrc;\n                    self.villageTitle = listData.community_name;\n                    self.longtitude = listData.longtitude;\n                    self.latitude = listData.latitude;\n                    self.mapVal.centerPoint = [self.longtitude, self.latitude];\n                    var name = ['暂无资料', '待定', '没有物业', '无物业公司', null, ''],\n                        floatNum,\n                        leftNum,\n                        parseIntNum;\n                    self.columns.forEach(function (item, index) {\n                        if (item[\"key\"] == 'property_company_name' && !name.selfContains(listData[item[\"key\"]])) {\n                            //物业公司\n                            item.val = \"<a class='property-link' data-action='property'  data-id='\" + listData.property_id + \"'>\" + listData[item['key']] + \"</a>\";\n                        } else if (item[\"key\"] == 'avg_priceint' || item[\"key\"] == 'sum_households' || item[\"key\"] == 'current_households' || item[\"key\"] == 'gome_member_num') {\n                            //千分制 小区均价 总户数 当期户数 会员数\n                            parseIntNum = parseInt(listData[item[\"key\"]]);\n                            item.val = item[\"key\"] == '' ? \"0\" : comUtils.toThousands(parseIntNum);\n                        } else if (item[\"key\"] == 'gome_sale_7day' && listData[item[\"key\"]] > 0) {\n                            floatNum = parseFloat(listData[item[\"key\"]]).toFixed(2).split('.');\n                            leftNum = comUtils.toThousands(floatNum[0]);\n                            item.val = leftNum + '.' + floatNum[1];\n                        } else if (item[\"key\"] == 'score' && listData[item[\"key\"]] > 0) {\n                            item.val = (listData[item[\"key\"]] * 100).toFixed(2);\n                        } else if (item[\"key\"] == 'gome_member_cover' && listData[item[\"key\"]] > 0) {\n                            item.val = (listData[item[\"key\"]] * 100).toFixed(2) + '%';\n                        } else {\n                            item.val = item[\"key\"] == '' ? \"\" : listData[item[\"key\"]];\n                        }\n                    });\n                    self.centerPointerFn();\n                } else {\n                    self.imgSrc = self.defaultImgSrc;\n                }\n            }).catch(function (error) {\n                self.imgSrc = self.defaultImgSrc;\n                console.log(error);\n            });\n        },\n        back: function back() {\n            this.$store.state.path = 'main';\n            this.$router.push('/village/villageOverview.html');\n        },\n        toProperty: function toProperty(id) {\n            this.$store.state.path = 'sub';\n            this.$router.push({ path: '/property/property-information.html/propertyDetail', query: { id: id, reset: 1 } });\n        },\n        search: function search() {\n            var _this = this;\n            $.trim(_this.mapVal.tipVal) ? _this.mapVal.placeSearch.search(_this.mapVal.tipVal) : '';\n        },\n        nearby: function nearby() {\n            var _this = this;\n            //中心点坐标\n            $.trim(_this.mapVal.tipNearbyVal) ? _this.mapVal.placeSearch.searchNearBy(_this.mapVal.tipNearbyVal, _this.mapVal.centerPoint, 2000, function (status, result) {}) : '';\n            _this.mapVal.lo = false;\n            _this.clearVal = true;\n        },\n        clear: function clear() {\n            this.mapVal.placeSearch.clear();\n        },\n        change: function change() {\n            this.mapVal.near = false;\n            setTimeout(function () {\n                document.getElementById('nearInput').focus();\n            }, 10);\n        },\n        clearCon: function clearCon() {\n            this.mapVal.tipNearbyVal ? this.mapVal.tipNearbyVal = '' : '';\n            this.clear();\n        },\n        closeNear: function closeNear() {\n            this.mapVal.tipNearbyVal = '';\n            //this.mapVal.near = true;\n            this.clear();\n        },\n        centerPointerFn: function centerPointerFn() {\n            var location,\n                centerPointer,\n                centerMarker,\n                //中心点\n            _this = this;\n            centerPointer = [_this.longtitude, _this.latitude];\n            _this.mapVal.map.setZoomAndCenter(11, centerPointer);\n            location = new AMap.LngLat(_this.longtitude, _this.latitude);\n            centerMarker = new AMap.Marker({\n                icon: 'http://webapi.amap.com/theme/v1.3/markers/n/mark_r.png',\n                position: location,\n                map: _this.mapVal.map\n            });\n            centerMarker.on('click', _this.centerPointerMarker);\n            centerMarker.emit('click', { target: centerMarker });\n            _this.mapVal.map.setFitView();\n        },\n        centerPointerMarker: function centerPointerMarker(e) {\n            //画门店的标记\n            var infoWindow,\n                _this = this,\n                contentHtml = '<div><p><strong>小区名称</strong></p><p>' + _this.villageTitle + '</p></div>';\n            infoWindow = new AMap.InfoWindow({\n                offset: new AMap.Pixel(0, -28),\n                content: contentHtml\n            });\n            infoWindow.open(_this.mapVal.map, e.target.getPosition());\n            _this.mapVal.map.setFitView();\n        }\n    },\n    mounted: function mounted() {\n        var _this = this;\n        _this.getTableData();\n        /*地图渲染*/\n        (0, _amap2.default)(function () {\n            /*下面是关于高得地图加载*/\n            _this.mapVal.map = new AMap.Map(\"details-map\", {\n                resizeEnable: true,\n                zoom: 11\n            });\n            AMap.service([\"AMap.PlaceSearch\"], function () {\n                _this.mapVal.placeSearch = new AMap.PlaceSearch({ //构造地点查询类\n                    pageSize: 5,\n                    pageIndex: 1,\n                    map: _this.mapVal.map,\n                    panel: \"panel\"\n                });\n                _this.mapVal.placeSearch.on('listElementClick', function (SelectChangeEvent) {\n                    var data = SelectChangeEvent.data;\n                    var location = data.location;\n                    _this.mapVal.map.setZoomAndCenter(11, [location.lng, location.lat]);\n                });\n            });\n        });\n        $(document).on(\"click\", \"a[data-action=property]\", function (e) {\n            var id = $(this).data('id');\n            _this.toProperty(id);\n        });\n    }\n};\n\n/***/ }),\n\n/***/ \"P+4H\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_node_modules_iview_loader_index_js_ref_0_1_villageDetail_vue__ = __webpack_require__(\"CT32\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_node_modules_iview_loader_index_js_ref_0_1_villageDetail_vue___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_node_modules_iview_loader_index_js_ref_0_1_villageDetail_vue__);\n/* harmony namespace reexport (unknown) */ for(var __WEBPACK_IMPORT_KEY__ in __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_node_modules_iview_loader_index_js_ref_0_1_villageDetail_vue__) if(__WEBPACK_IMPORT_KEY__ !== 'default') (function(key) { __webpack_require__.d(__webpack_exports__, key, function() { return __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_node_modules_iview_loader_index_js_ref_0_1_villageDetail_vue__[key]; }) }(__WEBPACK_IMPORT_KEY__));\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_d1e695ba_hasScoped_false_transformToRequire_video_src_source_src_img_src_image_xlink_href_buble_transforms_node_modules_vue_loader_lib_selector_type_template_index_0_node_modules_iview_loader_index_js_ref_0_1_villageDetail_vue__ = __webpack_require__(\"n9Cc\");\nvar normalizeComponent = __webpack_require__(\"VU/8\")\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_node_modules_iview_loader_index_js_ref_0_1_villageDetail_vue___default.a,\n  __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_d1e695ba_hasScoped_false_transformToRequire_video_src_source_src_img_src_image_xlink_href_buble_transforms_node_modules_vue_loader_lib_selector_type_template_index_0_node_modules_iview_loader_index_js_ref_0_1_villageDetail_vue__[\"a\" /* default */],\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (Component.exports);\n\n\n/***/ }),\n\n/***/ \"fkWs\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nexports.default = function (callback) {\n    if (window.AMap) {\n        callback();\n    } else {\n        var script = document.createElement(\"script\");\n        script.src = '/personas/static/lib/map.js';\n        document.body.appendChild(script);\n        setTimeout(function () {\n            callback();\n        }, 1000);\n\n        /*axios.get(\"/personas/static/lib/map.js\").then(function(res){\r\n            let script = document.createElement(\"script\");\r\n            script.innerHTML = res;\r\n            document.body.appendChild(script);\r\n            callback();\r\n        });*/\n    }\n};\n\n/***/ }),\n\n/***/ \"h6Al\":\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__.p + \"static/img/loser.52dcea0.jpg\";\n\n/***/ }),\n\n/***/ \"n9Cc\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"details\",attrs:{\"id\":\"details\"}},[_c('div',{staticClass:\"top-title title-box  box-bot\"},[_c('div',{staticClass:\" title\"},[_c('div',{staticClass:\"i-pull-left title-name\"},[_c('span',{domProps:{\"textContent\":_vm._s(_vm.villageTitle)}})]),_vm._v(\" \"),_c('div',{staticClass:\"i-pull-right\"},[_c('Button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.back}},[_vm._v(_vm._s(_vm.backText))])],1)]),_vm._v(\" \"),_c('div',{staticClass:\"top-details box-content i-pull-clear\"},[_c('div',{staticClass:\"img i-pull-left\",class:{old:_vm.old}},[_c('img',{attrs:{\"src\":_vm.imgSrc,\"onerror\":_vm.defaultShowImg,\"alt\":\"详情页\"}})]),_vm._v(\" \"),_c('div',{staticClass:\"details-table i-pull-right\"},_vm._l((_vm.columns),function(item){return _c('div',{staticClass:\"detail-con i-pull-clear\"},[_c('div',{staticClass:\"de-title\",domProps:{\"textContent\":_vm._s(item.title)}}),_vm._v(\" \"),_c('div',{staticClass:\"de-val\",domProps:{\"innerHTML\":_vm._s(item.val)}})])}))])]),_vm._v(\" \"),_c('div',{staticClass:\"perimeter title-box\"},[_vm._m(0),_vm._v(\" \"),_c('div',{staticClass:\"perimeter-map box-content\"},[_c('div',{staticClass:\"details-map\",attrs:{\"id\":\"details-map\"}}),_vm._v(\" \"),_vm._m(1),_vm._v(\" \"),_c('div',{staticClass:\"search\"},[_c('div',{staticClass:\"nearby\"},[_vm._v(\"\\n                    在\"),_c('span',{staticClass:\"tip-val-left\",domProps:{\"textContent\":_vm._s(_vm.villageTitle)}}),_vm._v(\"附近搜索\\n                    \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.mapVal.tipNearbyVal),expression:\"mapVal.tipNearbyVal\"}],attrs:{\"id\":\"nearInput\",\"type\":\"text\",\"placeholder\":\"\"},domProps:{\"value\":(_vm.mapVal.tipNearbyVal)},on:{\"keyup\":function($event){if(!('button' in $event)&&_vm._k($event.keyCode,\"enter\",13,$event.key)){ return null; }_vm.nearby($event)},\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.mapVal, \"tipNearbyVal\", $event.target.value)}}}),_vm._v(\" \"),_c('span',{staticClass:\"btn-search\",on:{\"click\":_vm.nearby}},[_c('Icon',{attrs:{\"type\":\"ios-search-strong\"}})],1),_vm._v(\" \"),_c('Tooltip',{staticClass:\"backTip\",attrs:{\"content\":\"清空附近搜索\",\"placement\":\"bottom\"}},[_c('span',{on:{\"click\":_vm.closeNear}},[_c('Icon',{attrs:{\"type\":\"ios-close-empty\"}})],1)])],1)])])])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"title\"},[_c('div',{staticClass:\"perimeter-t box-bot\"},[_vm._v(\"查看周边\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"panel\"},[_c('div',{attrs:{\"id\":\"panel\"}})])}]\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ __webpack_exports__[\"a\"] = (esExports);\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// static/js/12.18d46912e7acaf7e0b5f.js","<template>\r\n    <div id=\"details\" class=\"details\">\r\n        <div class=\"top-title title-box  box-bot\">\r\n            <div class=\" title\">\r\n                <div class=\"i-pull-left title-name\">\r\n                    <span v-text=\"villageTitle\"></span>\r\n                </div>\r\n                <div class=\"i-pull-right\">\r\n                    <Button type=\"primary\" @click=\"back\">{{backText}}</Button>\r\n                </div>\r\n            </div>\r\n            <div class=\"top-details box-content i-pull-clear\">\r\n                <div class=\"img i-pull-left\" :class=\"{old:old}\"><!--:src=\"imgSrc\"-->\r\n                    <img :src=\"imgSrc\" :onerror=\"defaultShowImg\" alt=\"详情页\" >\r\n                </div>\r\n                <div class=\"details-table i-pull-right\">\r\n                    <div class=\"detail-con i-pull-clear\" v-for=\"item in columns\">\r\n                        <div class=\"de-title\" v-text=\"item.title\"></div>\r\n                        <div class=\"de-val\" v-html=\"item.val\"></div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <div class=\"perimeter title-box\">\r\n            <div class=\"title\">\r\n                <div class=\"perimeter-t box-bot\">查看周边</div>\r\n            </div>\r\n            <div class=\"perimeter-map box-content\">\r\n                <div id=\"details-map\" class=\"details-map\"></div>\r\n                <div class=\"panel\">\r\n                    <div id=\"panel\"></div>\r\n                    <!--<div class=\"location\" v-show=\"mapVal.lo\" @click=\"change\"><template><Icon type=\"ios-location\"></Icon><span>附近</span></template></div>-->\r\n                </div>\r\n                <div class=\"search\">\r\n                    <div class=\"nearby\">\r\n                        在<span class=\"tip-val-left\" v-text=\"villageTitle\"></span>附近搜索\r\n                        <input id=\"nearInput\" type=\"text\" v-model=\"mapVal.tipNearbyVal\" @keyup.enter=\"nearby\" placeholder=\"\">\r\n                        <span class=\"btn-search\" @click=\"nearby\"><Icon type=\"ios-search-strong\"></Icon></span>\r\n                        <Tooltip content=\"清空附近搜索\" placement=\"bottom\" class=\"backTip\">\r\n                            <span @click=\"closeNear\"><Icon type=\"ios-close-empty\"></Icon></span>\r\n                        </Tooltip>\r\n                    </div>\r\n                    <!-- <div class=\"tip-search\" v-show=\"mapVal.near\">\r\n                         <input id=\"tipInput\" type=\"text\" v-model=\"mapVal.tipVal\" @focus=\"tipFocus\" @keyup.enter=\"search\" placeholder=\"请输入关键字搜索\">\r\n                         <template><span class=\"btn-search\" @click=\"search\"><Icon type=\"ios-search-strong\"></Icon></span><span class=\"clear-con\" @click=\"clearCon\"><Icon type=\"ios-close\"></Icon></span></template>\r\n                     </div>\r\n                     <div class=\"nearby\" v-show=\"!mapVal.near\">\r\n                         在<span class=\"tip-val-left\" v-text=\"mapVal.name\"></span>附近搜索\r\n                         <input id=\"nearInput\" type=\"text\" v-model=\"mapVal.tipNearbyVal\" @focus=\"tipFocus\" @keyup.enter=\"nearby\" placeholder=\"\">\r\n                         <template >\r\n                             <span class=\"btn-search\" @click=\"nearby\"><Icon type=\"ios-search-strong\"></Icon></span>\r\n                             <Tooltip content=\"关闭附近搜索\" placement=\"bottom\" class=\"backTip\">\r\n                                 <span @click=\"closeNear\"><Icon type=\"ios-close-empty\"></Icon></span>\r\n                             </Tooltip>\r\n                             &lt;!&ndash;<span class=\"clear-con\" @click=\"clearCon\"><Icon type=\"ios-close\"></Icon></span>&ndash;&gt;\r\n                         </template>\r\n                     </div>-->\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</template>\r\n<script>\r\n    import amapLoader from \"@/assets/js/amap\";\r\n    import defaultImg from '@/assets/image/loser.jpg';\r\n    export default{\r\n        data:function(){\r\n            return {\r\n                columns: [],\r\n                dataTable: [],\r\n                villageTitle:'',\r\n                imgSrc: '',//图片地址,\r\n                old: false,//图表高度\r\n                longtitude: null , //经度\r\n                latitude : null, //维度\r\n                clearVal: true,//隐藏清空按钮 input\r\n                common: [],\r\n                older : [\r\n                    {\r\n                        title : '近期成交' ,\r\n                        key : 'recent_volume'\r\n                    },\r\n                    {\r\n                        title : '竣工时间' ,\r\n                        key : 'complete_time'\r\n                    },\r\n                    {\r\n                        title : '建筑年代' ,\r\n                        key : 'year_built'\r\n                    },\r\n                    {\r\n                        title : '物业类型' ,\r\n                        key : 'property_type'\r\n                    },\r\n                    {\r\n                        title : '当期户数' ,\r\n                        key : 'current_households'\r\n                    }\r\n                ],\r\n                newer : [\r\n                    {\r\n                        title : '装修状况' ,\r\n                        key : 'decoration_status'\r\n                    },\r\n                    {\r\n                        title : '开盘时间' ,\r\n                        key : 'opening_quotation_time'\r\n                    },\r\n                    {\r\n                        title : '交房时间' ,\r\n                        key : 'others_time'\r\n                    },\r\n                    {\r\n                        title : '主力户型' ,\r\n                        key : 'main_apartment'\r\n                    }\r\n                ],\r\n                mapVal:{\r\n                    tipVal: '',\r\n                    tipNearbyVal: '',\r\n                    placeSearch: null,\r\n                    centerPoint: null,\r\n                    near: true,\r\n                    map: null,\r\n                    name:'',\r\n                    lo: false // 查看附近\r\n                },\r\n                defaultImgSrc: defaultImg,\r\n                defaultShowImg: 'this.src=\"'+ defaultImg + '\"',\r\n                backText: '返回小区列表'\r\n            }\r\n        },\r\n        methods: {\r\n            getTableData: function () {\r\n                var self = this, listData,//数据源，重新整合在一起 title\\val\r\n                        id = this.$route.query.id,\r\n                        type = this.$route.query.type;\r\n                self.common = [\r\n                    {\r\n                        title : '楼盘地址' ,\r\n                        key : 'community_address'\r\n                    },\r\n                    {\r\n                        title : '小区均价' ,\r\n                        key : 'avg_priceint'\r\n                    },\r\n                    {\r\n                        title : '物业类别' ,\r\n                        key : 'property_category'\r\n                    },\r\n                    {\r\n                        title : '物业公司' ,\r\n                        key : 'property_company_name'\r\n                    },\r\n                    {\r\n                        title : '总户数' ,\r\n                        key : 'sum_households'\r\n                    },\r\n                    {\r\n                        title : '覆盖会员数' ,\r\n                        key : 'gome_member_num'\r\n                    },\r\n                    {\r\n                        title : '会员覆盖率' ,\r\n                        key : 'gome_member_cover'\r\n                    },\r\n                    {\r\n                        title : '近7日销售额' ,\r\n                        key : 'gome_sale_7day'\r\n                    },\r\n                    {\r\n                        title : '营销价值评分' ,\r\n                        key : 'score'\r\n                    }\r\n                ];\r\n                if(type == '1'){\r\n                    self.old = false;\r\n                    self.columns = self.common.concat(self.newer);\r\n                }else {\r\n                    self.old = true;\r\n                    self.columns = self.common.concat(self.older);\r\n                }\r\n                axios.get(getUrl(\"villageDetail\"),{\r\n                    params:{\r\n                        id: id\r\n                    },\r\n                    loading: true,\r\n                    unload: true\r\n                })\r\n                        .then(function(respone){\r\n                            if(respone.detail) {\r\n                                listData = respone.detail;\r\n                                self.imgSrc = listData.picture ? listData.picture : self.defaultImgSrc;\r\n                                self.villageTitle = listData.community_name;\r\n                                self.longtitude = listData.longtitude;\r\n                                self.latitude = listData.latitude;\r\n                                self.mapVal.centerPoint = [self.longtitude,self.latitude];\r\n                                var name = [ '暂无资料' , '待定' , '没有物业' , '无物业公司' , null , ''],\r\n                                        floatNum,leftNum,parseIntNum;\r\n                                self.columns.forEach(function (item, index) {\r\n                                    if((item[\"key\"]  == 'property_company_name') && !name.selfContains(listData[item[\"key\"]])){//物业公司\r\n                                        item.val = \"<a class='property-link' data-action='property'  data-id='\"+listData.property_id+\"'>\" + listData[item['key']] + \"</a>\";\r\n                                    }else if(item[\"key\"]  == 'avg_priceint' || item[\"key\"] == 'sum_households' || item[\"key\"] == 'current_households' || item[\"key\"] == 'gome_member_num'){\r\n                                        //千分制 小区均价 总户数 当期户数 会员数\r\n                                        parseIntNum = parseInt(listData[item[\"key\"]]);\r\n                                        item.val = item[\"key\"] == '' ?  \"0\" : comUtils.toThousands(parseIntNum);\r\n                                    }else if(item[\"key\"]  == 'gome_sale_7day' && listData[item[\"key\"]] > 0){\r\n                                        floatNum = parseFloat(listData[item[\"key\"]]).toFixed(2).split('.');\r\n                                        leftNum = comUtils.toThousands(floatNum[0]);\r\n                                        item.val  = leftNum + '.' + floatNum[1];\r\n                                    }else if(item[\"key\"]  == 'score' && listData[item[\"key\"]] > 0){\r\n                                        item.val =  (listData[item[\"key\"]] * 100).toFixed(2);\r\n                                    }else if(item[\"key\"]  == 'gome_member_cover' && listData[item[\"key\"]] > 0){\r\n                                        item.val =  (listData[item[\"key\"]] * 100).toFixed(2) + '%';\r\n                                    }else{\r\n                                        item.val = item[\"key\"] == '' ?  \"\" : listData[item[\"key\"]];\r\n                                    }\r\n                                });\r\n                                self.centerPointerFn();\r\n                            }else{\r\n                                self.imgSrc = self.defaultImgSrc;\r\n                            }\r\n                        })\r\n                        .catch(function(error){\r\n                            self.imgSrc = self.defaultImgSrc;\r\n                            console.log(error);\r\n                        });\r\n            },\r\n            back: function () {\r\n                this.$store.state.path = 'main';\r\n                this.$router.push('/village/villageOverview.html');\r\n            },\r\n            toProperty:function(id){\r\n                this.$store.state.path='sub';\r\n                this.$router.push({path:'/property/property-information.html/propertyDetail',query:{id:id,reset:1}})\r\n            },\r\n            search: function (){\r\n                var _this = this;\r\n                $.trim(_this.mapVal.tipVal) ? _this.mapVal.placeSearch.search(_this.mapVal.tipVal) : '';\r\n            },\r\n            nearby: function (){\r\n                var _this = this;\r\n                //中心点坐标\r\n                $.trim(_this.mapVal.tipNearbyVal) ? _this.mapVal.placeSearch.searchNearBy(_this.mapVal.tipNearbyVal, _this.mapVal.centerPoint, 2000, function(status, result) {}) : '';\r\n                _this.mapVal.lo = false;\r\n                _this.clearVal = true;\r\n            },\r\n            clear: function () {\r\n                this.mapVal.placeSearch.clear();\r\n            },\r\n            change: function () {\r\n                this.mapVal.near = false;\r\n                setTimeout(function () {\r\n                    document.getElementById('nearInput').focus()\r\n                },10)\r\n            },\r\n            clearCon: function () {\r\n                this.mapVal.tipNearbyVal ? this.mapVal.tipNearbyVal = '' : '';\r\n                this.clear();\r\n            },\r\n            closeNear: function () {\r\n                this.mapVal.tipNearbyVal = '';\r\n                //this.mapVal.near = true;\r\n                this.clear();\r\n            },\r\n            centerPointerFn: function () {\r\n                var  location ,\r\n                        centerPointer,\r\n                        centerMarker,//中心点\r\n                        _this = this;\r\n                centerPointer = [_this.longtitude, _this.latitude];\r\n                _this.mapVal.map.setZoomAndCenter(11, centerPointer);\r\n                location = new AMap.LngLat(_this.longtitude,_this.latitude);\r\n                centerMarker = new AMap.Marker({\r\n                    icon:'http://webapi.amap.com/theme/v1.3/markers/n/mark_r.png',\r\n                    position: location,\r\n                    map: _this.mapVal.map\r\n                });\r\n                centerMarker.on('click', _this.centerPointerMarker);\r\n                centerMarker.emit('click', {target: centerMarker});\r\n                _this.mapVal.map.setFitView();\r\n            },\r\n            centerPointerMarker: function (e) {\r\n                //画门店的标记\r\n                var infoWindow,\r\n                        _this = this,\r\n                        contentHtml = '<div><p><strong>小区名称</strong></p><p>'+ _this.villageTitle +'</p></div>';\r\n                infoWindow = new AMap.InfoWindow({\r\n                    offset: new AMap.Pixel(0, -28),\r\n                    content: contentHtml\r\n                });\r\n                infoWindow.open(_this.mapVal.map, e.target.getPosition());\r\n                _this.mapVal.map.setFitView();\r\n            }\r\n        },\r\n        mounted: function() {\r\n            var _this = this;\r\n            _this.getTableData();\r\n            /*地图渲染*/\r\n            amapLoader(function (){\r\n                /*下面是关于高得地图加载*/\r\n                _this.mapVal.map = new AMap.Map(\"details-map\", {\r\n                    resizeEnable: true,\r\n                    zoom: 11\r\n                });\r\n                AMap.service([\"AMap.PlaceSearch\"], function() {\r\n                    _this.mapVal.placeSearch = new AMap.PlaceSearch({ //构造地点查询类\r\n                        pageSize: 5,\r\n                        pageIndex: 1,\r\n                        map: _this.mapVal.map,\r\n                        panel: \"panel\"\r\n                    });\r\n                    _this.mapVal.placeSearch.on('listElementClick', function(SelectChangeEvent) {\r\n                        var  data = SelectChangeEvent.data;\r\n                        var  location = data.location;\r\n                        _this.mapVal.map.setZoomAndCenter(11, [location.lng,location.lat]);\r\n                    });\r\n                });\r\n            });\r\n            $(document).on(\"click\", \"a[data-action=property]\", function(e){\r\n                let id=$(this).data('id');\r\n                _this.toProperty(id);\r\n            });\r\n\r\n        }\r\n    };\r\n</script>\n\n\n// WEBPACK FOOTER //\n// src/pages/village/villageDetail.vue","var normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!../../../node_modules/iview-loader/index.js??ref--0-1!./villageDetail.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!../../../node_modules/iview-loader/index.js??ref--0-1!./villageDetail.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-d1e695ba\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":\\\"src\\\",\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!../../../node_modules/iview-loader/index.js??ref--0-1!./villageDetail.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/village/villageDetail.vue\n// module id = P+4H\n// module chunks = 12","/**加载高德地图，返回地图对象\r\n * 依赖axios\r\n * Created by liuxiaolu on 2018/2/9.\r\n */\r\nexport default function (callback) {\r\n    if(window.AMap){\r\n        callback();\r\n    }\r\n    else{\r\n        let script = document.createElement(\"script\");\r\n        script.src = '/personas/static/lib/map.js';\r\n        document.body.appendChild(script);\r\n        setTimeout(function(){\r\n            callback();\r\n        },1000);\r\n\r\n        /*axios.get(\"/personas/static/lib/map.js\").then(function(res){\r\n            let script = document.createElement(\"script\");\r\n            script.innerHTML = res;\r\n            document.body.appendChild(script);\r\n            callback();\r\n        });*/\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/assets/js/amap.js","module.exports = __webpack_public_path__ + \"static/img/loser.52dcea0.jpg\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/assets/image/loser.jpg\n// module id = h6Al\n// module chunks = 12","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"details\",attrs:{\"id\":\"details\"}},[_c('div',{staticClass:\"top-title title-box  box-bot\"},[_c('div',{staticClass:\" title\"},[_c('div',{staticClass:\"i-pull-left title-name\"},[_c('span',{domProps:{\"textContent\":_vm._s(_vm.villageTitle)}})]),_vm._v(\" \"),_c('div',{staticClass:\"i-pull-right\"},[_c('Button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.back}},[_vm._v(_vm._s(_vm.backText))])],1)]),_vm._v(\" \"),_c('div',{staticClass:\"top-details box-content i-pull-clear\"},[_c('div',{staticClass:\"img i-pull-left\",class:{old:_vm.old}},[_c('img',{attrs:{\"src\":_vm.imgSrc,\"onerror\":_vm.defaultShowImg,\"alt\":\"详情页\"}})]),_vm._v(\" \"),_c('div',{staticClass:\"details-table i-pull-right\"},_vm._l((_vm.columns),function(item){return _c('div',{staticClass:\"detail-con i-pull-clear\"},[_c('div',{staticClass:\"de-title\",domProps:{\"textContent\":_vm._s(item.title)}}),_vm._v(\" \"),_c('div',{staticClass:\"de-val\",domProps:{\"innerHTML\":_vm._s(item.val)}})])}))])]),_vm._v(\" \"),_c('div',{staticClass:\"perimeter title-box\"},[_vm._m(0),_vm._v(\" \"),_c('div',{staticClass:\"perimeter-map box-content\"},[_c('div',{staticClass:\"details-map\",attrs:{\"id\":\"details-map\"}}),_vm._v(\" \"),_vm._m(1),_vm._v(\" \"),_c('div',{staticClass:\"search\"},[_c('div',{staticClass:\"nearby\"},[_vm._v(\"\\n                    在\"),_c('span',{staticClass:\"tip-val-left\",domProps:{\"textContent\":_vm._s(_vm.villageTitle)}}),_vm._v(\"附近搜索\\n                    \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.mapVal.tipNearbyVal),expression:\"mapVal.tipNearbyVal\"}],attrs:{\"id\":\"nearInput\",\"type\":\"text\",\"placeholder\":\"\"},domProps:{\"value\":(_vm.mapVal.tipNearbyVal)},on:{\"keyup\":function($event){if(!('button' in $event)&&_vm._k($event.keyCode,\"enter\",13,$event.key)){ return null; }_vm.nearby($event)},\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.mapVal, \"tipNearbyVal\", $event.target.value)}}}),_vm._v(\" \"),_c('span',{staticClass:\"btn-search\",on:{\"click\":_vm.nearby}},[_c('Icon',{attrs:{\"type\":\"ios-search-strong\"}})],1),_vm._v(\" \"),_c('Tooltip',{staticClass:\"backTip\",attrs:{\"content\":\"清空附近搜索\",\"placement\":\"bottom\"}},[_c('span',{on:{\"click\":_vm.closeNear}},[_c('Icon',{attrs:{\"type\":\"ios-close-empty\"}})],1)])],1)])])])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"title\"},[_c('div',{staticClass:\"perimeter-t box-bot\"},[_vm._v(\"查看周边\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"panel\"},[_c('div',{attrs:{\"id\":\"panel\"}})])}]\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-d1e695ba\",\"hasScoped\":false,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./node_modules/iview-loader??ref--0-1!./src/pages/village/villageDetail.vue\n// module id = n9Cc\n// module chunks = 12"],"sourceRoot":""}