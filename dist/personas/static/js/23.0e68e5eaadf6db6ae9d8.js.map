{"version":3,"sources":["webpack:///static/js/23.0e68e5eaadf6db6ae9d8.js","webpack:///./src/pages/crowd/Detail.vue","webpack:///src/pages/crowd/Detail.vue","webpack:///./src/pages/crowd/Detail.vue?f831"],"names":["webpackJsonp","0qK6","module","__webpack_exports__","__webpack_require__","Object","defineProperty","value","__WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_node_modules_iview_loader_index_js_ref_0_1_Detail_vue__","__WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_node_modules_iview_loader_index_js_ref_0_1_Detail_vue___default","n","__WEBPACK_IMPORT_KEY__","key","d","__WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_73208520_hasScoped_false_transformToRequire_video_src_source_src_img_src_image_xlink_href_buble_transforms_node_modules_vue_loader_lib_selector_type_template_index_0_node_modules_iview_loader_index_js_ref_0_1_Detail_vue__","normalizeComponent","Component","a","BUoN","exports","default","data","saveFields","categories","brands","crowdList","regions","firstsubSections","secondsubSections","stores","vipRange","catLoading","spinShow","saveBrands","editData","crowdId","dateRange","beginTime","endTime","regionCode","regionName","firstBranch","firstBranchName","secondBranch","secondBranchName","store","storeName","crowdName","channel","frequency","frequencyCount","coverUser","createUser","defaultData","vipRanges","label","vipBranchs","detailData","scenesType","stage","tempStage","methods","getEditData","_vm","this","axios","get","getUrl","loading","unload","params","id","$route","query","then","res","result","crowInfo","fileds","DateFormat","toString","k","indexOf","split","i","length","splice","backToList","$store","state","path","$router","push","mounted","stage1","stage2","other","VPPF","render","_h","$createElement","_c","_self","staticClass","attrs","dis-hover","slot","_v","label-width","_s","_l","item","domProps","textContent","_e","model","staticStyle","display","type","on","click","staticRenderFns","esExports"],"mappings":"AAAAA,cAAc,KAERC,OACA,SAAUC,EAAQC,EAAqBC,GAE7C,YACAC,QAAOC,eAAeH,EAAqB,cAAgBI,OAAO,GAC7C,IAAIC,GAA6JJ,EAAoB,QACjLK,EAAqKL,EAAoBM,EAAEF,EACzK,KAAI,GAAIG,KAA0BH,GAA0L,YAA3BG,GAAuC,SAASC,GAAOR,EAAoBS,EAAEV,EAAqBS,EAAK,WAAa,MAAOJ,GAA2JI,MAAWD,ECT7gB,IAAAG,GAAAV,EAAA,QAAAW,EAAAX,EAAA,QAcAY,EAAAD,EACAN,EAAAQ,EACAH,EAAA,GATA,EAEA,KAEA,KAEA,KAUAX,GAAA,QAAAa,EAAA,SDgBME,KACA,SAAUhB,EAAQiB,EAASf,GAEjC,YAGAC,QAAOC,eAAea,EAAS,cAC3BZ,OAAO,IA6GXY,EAAQC,SACJC,KAAM,WACF,OACIC,YAAa,YAAa,UAAW,cAAe,YAAa,sBAAuB,WAAY,UAAW,OAAQ,SE/CnI,OFiDYC,cACAC,UACAC,aACAC,WACAC,oBACAC,qBACAC,UACAC,SE/CZ,IFgDYC,YE/CZ,EFgDYC,UE/CZ,EFgDYC,cAEAC,UACIC,QAAS,GACTC,aACAC,UE/ChB,KFgDgBC,QE/ChB,KFiDgBC,WAAY,GACZC,WAAY,GACZC,YAAa,GACbC,gBAAiB,GACjBC,aAAc,GACdC,iBAAkB,GAClBC,MAAO,GACPC,UAAW,GAGXC,UAAW,GACXC,QAAS,EACTC,UAAW,EACXC,eAAgB,KAChBC,UAAW,KAEXC,WAAY,MAGhBC,aACIC,YE/ChBC,MAAA,OAAAhD,MACA,MAAAgD,MAAA,OAAAhD,MACA,MAAAgD,MAAA,OAAAhD,MACA,MAAAgD,MAAA,OAAAhD,MAEA,MF2CgBiD,aE1ChBD,MAAA,OAAAhD,MACA,MAAAgD,MAAA,OAAAhD,MAGA,OFwCYkD,YACIC,WEvChB,GFwCgBC,MEvChB,KFwCgBC,UErChB,QFyCIC,SACIC,YAAa,WACT,GAAIC,GEvChBC,IFyCY,OAAOC,OAAMC,IAAIC,OAAO,kBAAoBC,SAAS,EAAMC,QAAQ,EAAMC,QAAUC,GAAIP,KAAKQ,OAAOC,MEvC/GF,MAAAG,KAAA,SAAAC,GFwCgBZ,EAAI/B,UEtCpB,CFuCgB,IAAI4C,GAASD,EAAIE,aACbC,EAASf,EEvC7BzC,UFwCgBsD,GAAOvC,UAAY0C,WAAWH,EAAOvC,WAAW2C,SEvChE,cFwCgBJ,EAAOtC,QAAUyC,WAAWH,EAAOtC,SAAS0C,SEvC5D,cFwCgBjB,EAAI7B,SEvCpB0C,CFwCgB,KAAK,GAAIK,KAAKlB,GAAI7B,SACd,GAAI4C,EAAOI,QAAQD,IAAM,GAGjBlB,EAAI7B,SAAS+C,GEvCzC,CFwC4BlB,EAAI7B,SAAS+C,GAAKlB,EAAI7B,SAAS+C,GAAGE,MEvC9D,IF8C4B,KAAK,GAAIC,GAAI,EAAGA,EAAIrB,EAAI7B,SAAS+C,GAAGI,OAAQD,IACnCrB,EAAI7B,SAAS+C,GAAGG,IACjBrB,EAAI7B,SAAS+C,GAAGK,OAAOF,EEvC3D,OF+CQG,WAAY,WACRvB,KAAKwB,OAAOC,MAAMC,KEvC9B,OFwCY1B,KAAK2B,QAAQC,KEvCzB,sBF0CIC,QAAS,WACL7B,KAAKP,WAAWC,YAAeoC,OAAQ,OAAQC,OAAQ,OAAQC,MAAO,QAAShC,KAAKQ,OAAOC,MEvCnGd,OFwCQK,KEvCRF,iBF6CMmC,KACA,SAAU/F,EAAQC,EAAqBC,GAE7C,YGjQA,IAAA8F,GAAA,WAA0B,GAAAnC,GAAAC,KAAamC,EAAApC,EAAAqC,eAA0BC,EAAAtC,EAAAuC,MAAAD,IAAAF,CAAwB,OAAAE,GAAA,OAAiBE,YAAA,WAAqBF,EAAA,OAAYE,YAAA,wBAAkCF,EAAA,QAAaG,OAAOC,YAAA,MAAgBJ,EAAA,KAAUG,OAAOE,KAAA,SAAeA,KAAA,UAAc3C,EAAA4C,GAAA,YAAA5C,EAAA4C,GAAA,KAAAN,EAAA,QAA4CG,OAAOI,cAAA,OAAmBP,EAAA,YAAiBG,OAAOjD,MAAA,UAAgB8C,EAAA,OAAYE,YAAA,WAAqBF,EAAA,QAAAtC,EAAA4C,GAAA5C,EAAA8C,GAAA9C,EAAAN,WAAAC,mBAAAK,EAAA4C,GAAA,aAAA5C,EAAAN,WAAAC,WAAA2C,EAAA,YAA4HG,OAAOjD,MAAA,UAAgB8C,EAAA,OAAYE,YAAA,WAAqBxC,EAAA+C,GAAA/C,EAAA7B,SAAA,iBAAA6E,GAA+C,MAAAV,GAAA,QAAkBW,UAAUC,YAAAlD,EAAA8C,GAAAE,QAA8BhD,EAAA4C,GAAA,KAAA5C,EAAA+C,GAAA/C,EAAA7B,SAAA,mBAAA6E,GAA6D,MAAAV,GAAA,QAAkBW,UAAUC,YAAAlD,EAAA8C,GAAAE,SAA8B,KAAAhD,EAAAmD,KAAAnD,EAAA4C,GAAA,KAAAN,EAAA,YAA4CG,OAAOjD,MAAA,UAAgB8C,EAAA,QAAAtC,EAAA4C,GAAA5C,EAAA8C,GAAA9C,EAAA7B,SAAAG,WAAA,IAAA0B,EAAA8C,GAAA9C,EAAA7B,SAAAI,cAAAyB,EAAA4C,GAAA,aAAA5C,EAAAN,WAAAC,YAAA2C,EAAA,YAAyJG,OAAOjD,MAAA,UAAgB8C,EAAA,OAAYE,YAAA,UAAqBxC,EAAA+C,GAAA/C,EAAA7B,SAAA,iBAAA6E,GAA8C,MAAAV,GAAA,QAAkBW,UAAUC,YAAAlD,EAAA8C,GAAAE,WAA8BhD,EAAA4C,GAAA,KAAAN,EAAA,YAAgCG,OAAOjD,MAAA,UAAgB8C,EAAA,OAAYE,YAAA,UAAqBxC,EAAA+C,GAAA/C,EAAA7B,SAAA,mBAAA6E,GAAgD,MAAAV,GAAA,QAAkBW,UAAUC,YAAAlD,EAAA8C,GAAAE,WAA8BhD,EAAA4C,GAAA,KAAAN,EAAA,YAAgCG,OAAOjD,MAAA,WAAiB8C,EAAA,OAAYE,YAAA,UAAqBxC,EAAA+C,GAAA/C,EAAA7B,SAAA,6BAAA6E,GAA0D,MAAAV,GAAA,QAAkBW,UAAUC,YAAAlD,EAAA8C,GAAAE,WAA8BhD,EAAA4C,GAAA,KAAAN,EAAA,YAAgCG,OAAOjD,MAAA,UAAgB8C,EAAA,OAAYE,YAAA,UAAqBxC,EAAA+C,GAAA/C,EAAA7B,SAAA,kBAAA6E,GAA+C,MAAAV,GAAA,QAAkBW,UAAUC,YAAAlD,EAAA8C,GAAAE,WAA8BhD,EAAA4C,GAAA,KAAAN,EAAA,YAAgCG,OAAOjD,MAAA,SAAe8C,EAAA,OAAYE,YAAA,UAAqBxC,EAAA+C,GAAA/C,EAAA7B,SAAA,iBAAA6E,GAA8C,MAAAV,GAAA,QAAkBW,UAAUC,YAAAlD,EAAA8C,GAAAE,WAA8BhD,EAAA4C,GAAA,KAAAN,EAAA,YAAgCG,OAAOjD,MAAA,UAAgB8C,EAAA,OAAYE,YAAA,UAAqBxC,EAAA+C,GAAA/C,EAAA7B,SAAA,cAAA6E,GAA2C,MAAAV,GAAA,QAAkBW,UAAUC,YAAAlD,EAAA8C,GAAAE,WAA8BhD,EAAA4C,GAAA,KAAAN,EAAA,YAAgCG,OAAOjD,MAAA,QAAc8C,EAAA,OAAYE,YAAA,UAAqBxC,EAAA+C,GAAA/C,EAAA7B,SAAA,gBAAA6E,GAA6C,MAAAV,GAAA,QAAkBW,UAAUC,YAAAlD,EAAA8C,GAAAE,WAA8BhD,EAAA4C,GAAA,KAAAN,EAAA,YAAgCG,OAAOjD,MAAA,QAAc8C,EAAA,OAAYE,YAAA,UAAqBxC,EAAA+C,GAAA/C,EAAA7B,SAAA,aAAA6E,GAA0C,MAAAV,GAAA,QAAkBW,UAAUC,YAAAlD,EAAA8C,GAAAE,YAA8BhD,EAAAmD,KAAAnD,EAAA4C,GAAA,KAAAN,EAAA,YAA0CG,OAAOjD,MAAA,UAAgB8C,EAAA,OAAYE,YAAA,WAAqBxC,EAAA7B,SAAA,WAAAmE,EAAA,QAAAtC,EAAA4C,GAAA5C,EAAA8C,GAAA9C,EAAA7B,SAAAM,eAAAuB,EAAAmD,KAAAnD,EAAA7B,SAAA,gBAAAmE,EAAA,QAAAtC,EAAA4C,GAAA5C,EAAA8C,GAAA9C,EAAA7B,SAAAQ,oBAAAqB,EAAAmD,KAAAnD,EAAA7B,SAAA,iBAAAmE,EAAA,QAAAtC,EAAA4C,GAAA5C,EAAA8C,GAAA9C,EAAA7B,SAAAU,qBAAAmB,EAAAmD,KAAAnD,EAAA7B,SAAA,UAAAmE,EAAA,QAAAtC,EAAA4C,GAAA5C,EAAA8C,GAAA9C,EAAA7B,SAAAY,cAAAiB,EAAAmD,UAAA,WAAAnD,EAAA4C,GAAA,KAAAN,EAAA,OAA4ZE,YAAA,wBAAkCF,EAAA,QAAaG,OAAOC,YAAA,MAAgBJ,EAAA,KAAUG,OAAOE,KAAA,SAAeA,KAAA,UAAc3C,EAAA4C,GAAA,YAAA5C,EAAA4C,GAAA,KAAAN,EAAA,UAA8CG,OAAOW,MAAApD,EAAA7B,SAAA0E,cAAA,OAAwCP,EAAA,YAAiBG,OAAOjD,MAAA,UAAgB8C,EAAA,QAAAtC,EAAA4C,GAAA5C,EAAA8C,GAAA9C,EAAA7B,SAAAa,gBAAAgB,EAAA4C,GAAA,KAAAN,EAAA,YAAmFG,OAAOjD,MAAA,UAAgBQ,EAAA4C,GAAA,gDAAA5C,EAAA4C,GAAA,KAAAN,EAAA,YAAoFG,OAAOjD,MAAA,UAAgB,GAAAQ,EAAA7B,SAAAe,UAAAoD,EAAA,QAAAtC,EAAA4C,GAAA,SAAA5C,EAAAmD,KAAAnD,EAAA4C,GAAA,QAAA5C,EAAA7B,SAAAe,UAAAoD,EAAA,OAAoHe,aAAaC,QAAA,kBAA0BhB,EAAA,QAAAtC,EAAA4C,GAAA,aAAA5C,EAAA4C,GAAA,KAAAN,EAAA,QAAAtC,EAAA4C,GAAA5C,EAAA8C,GAAA9C,EAAA7B,SAAAgB,mBAAAa,EAAA4C,GAAA,KAAAN,EAAA,QAAAtC,EAAA4C,GAAA,SAAA5C,EAAAmD,QAAA,OAAAnD,EAAA4C,GAAA,KAAAN,EAAA,OAAsLE,YAAA,WAAqBF,EAAA,YAAiBG,OAAOc,KAAA,WAAiBC,IAAKC,MAAAzD,EAAAwB,cAAwBxB,EAAA4C,GAAA,mBACz1Hc,KACAC,GAAiBxB,SAAAuB,kBACjBtH,GAAA","file":"static/js/23.0e68e5eaadf6db6ae9d8.js","sourcesContent":["webpackJsonp([23],{\n\n/***/ \"0qK6\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_node_modules_iview_loader_index_js_ref_0_1_Detail_vue__ = __webpack_require__(\"BUoN\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_node_modules_iview_loader_index_js_ref_0_1_Detail_vue___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_node_modules_iview_loader_index_js_ref_0_1_Detail_vue__);\n/* harmony namespace reexport (unknown) */ for(var __WEBPACK_IMPORT_KEY__ in __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_node_modules_iview_loader_index_js_ref_0_1_Detail_vue__) if(__WEBPACK_IMPORT_KEY__ !== 'default') (function(key) { __webpack_require__.d(__webpack_exports__, key, function() { return __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_node_modules_iview_loader_index_js_ref_0_1_Detail_vue__[key]; }) }(__WEBPACK_IMPORT_KEY__));\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_73208520_hasScoped_false_transformToRequire_video_src_source_src_img_src_image_xlink_href_buble_transforms_node_modules_vue_loader_lib_selector_type_template_index_0_node_modules_iview_loader_index_js_ref_0_1_Detail_vue__ = __webpack_require__(\"VPPF\");\nvar normalizeComponent = __webpack_require__(\"VU/8\")\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_node_modules_iview_loader_index_js_ref_0_1_Detail_vue___default.a,\n  __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_73208520_hasScoped_false_transformToRequire_video_src_source_src_img_src_image_xlink_href_buble_transforms_node_modules_vue_loader_lib_selector_type_template_index_0_node_modules_iview_loader_index_js_ref_0_1_Detail_vue__[\"a\" /* default */],\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (Component.exports);\n\n\n/***/ }),\n\n/***/ \"BUoN\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nexports.default = {\n    data: function data() {\n        return {\n            saveFields: [\"catPrefer\", \"catName\", \"brandPrefer\", \"brandName\", \"customerTransaction\", \"vipValue\", \"loyalty\", \"lost\", \"gender\", \"age\"],\n            // 交互用的数据，如品类下拉数据，品牌下拉数据\n            categories: [], // 品类\n            brands: {}, // 品牌\n            crowdList: [], // 人群\n            regions: [],\n            firstsubSections: [],\n            secondsubSections: [],\n            stores: [],\n            vipRange: \"1\",\n            catLoading: false,\n            spinShow: true,\n            saveBrands: {}, //保存未存在select下拉框的历史数据(品牌)\n            // 交互录入的数据\n            editData: {\n                crowdId: '', // 营销场景\n                dateRange: [], // 营销周期 t+1——不限\n                beginTime: null,\n                endTime: null,\n                /* 会员范围 start */\n                regionCode: '', //大区id\n                regionName: '', //大区名\n                firstBranch: '', //一级分部id\n                firstBranchName: '', //一级分部名\n                secondBranch: '', //二级分部id\n                secondBranchName: '', //二级分部名\n                store: '', //门店id\n                storeName: '', //门店名\n                /* 会员范围 end */\n                // 基本信息\n                crowdName: \"\", // 人群名称\n                channel: 1, // 推送渠道\n                frequency: 0, //推送限定\n                frequencyCount: null, // 推送频次\n                coverUser: null, // 覆盖人数\n\n                createUser: null // 创建人\n            },\n            //默认选项\n            defaultData: {\n                vipRanges: [{ label: \"全部会员\", value: \"1\" }, { label: \"大区会员\", value: \"2\" }, { label: \"分部会员\", value: \"3\" }, { label: \"门店会员\", value: \"4\" }],\n                vipBranchs: [{ label: \"一级分部\", value: \"1\" }, { label: \"二级分部\", value: \"2\" }]\n            },\n            detailData: {\n                scenesType: \"\",\n                stage: null,\n                tempStage: null\n            }\n        };\n    },\n    methods: {\n        getEditData: function getEditData() {\n            var _vm = this;\n            //this.spinShow=true;\n            return axios.get(getUrl(\"crow/crowInfo\"), { loading: true, unload: true, params: { id: this.$route.query.id } }).then(function (res) {\n                _vm.spinShow = false;\n                var result = res.crowInfo || {},\n                    fileds = _vm.saveFields;\n                result.beginTime = DateFormat(result.beginTime).toString('yyyy.MM.dd');\n                result.endTime = DateFormat(result.endTime).toString('yyyy.MM.dd');\n                _vm.editData = result;\n                for (var k in _vm.editData) {\n                    if (fileds.indexOf(k) > -1) {\n                        //_vm.editData[k]=_vm.editData[k].replace(/,/g,\" \");\n                        // _vm.editData[k] && (_vm.editData[k]=_vm.editData[k].split(',')) ;\n                        if (_vm.editData[k]) {\n                            _vm.editData[k] = _vm.editData[k].split(',');\n                            /*_vm.editData[k] = _vm.editData[k].map(function (item, cur) {\n                             if(item == ''){\n                             _vm.editData[k].splice(cur,1);\n                             }\n                             return item;\n                             })*/\n                            for (var i = 0; i < _vm.editData[k].length; i++) {\n                                if (!_vm.editData[k][i]) {\n                                    _vm.editData[k].splice(i, 1);\n                                }\n                            }\n                        }\n                    }\n                }\n            });\n        },\n        backToList: function backToList() {\n            this.$store.state.path = \"main\";\n            this.$router.push(\"/crowd/list.html\");\n        }\n    },\n    mounted: function mounted() {\n        this.detailData.scenesType = { stage1: \"复购提升\", stage2: \"流失挽回\", other: \"其他场景\" }[this.$route.query.stage];\n        this.getEditData();\n    }\n};\n\n/***/ }),\n\n/***/ \"VPPF\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"detail\"},[_c('div',{staticClass:\"panel panel-default\"},[_c('Card',{attrs:{\"dis-hover\":\"\"}},[_c('p',{attrs:{\"slot\":\"title\"},slot:\"title\"},[_vm._v(\"营销场景设置\")]),_vm._v(\" \"),_c('Form',{attrs:{\"label-width\":120}},[_c('FormItem',{attrs:{\"label\":\"营销场景\"}},[_c('div',{staticClass:\"groups\"},[_c('span',[_vm._v(_vm._s(_vm.detailData.scenesType))])])]),_vm._v(\" \"),(_vm.detailData.scenesType=='复购提升')?_c('FormItem',{attrs:{\"label\":\"推广商品\"}},[_c('div',{staticClass:\"groups\"},[_vm._l((_vm.editData.catName),function(item){return _c('span',{domProps:{\"textContent\":_vm._s(item)}})}),_vm._v(\" \"),_vm._l((_vm.editData.brandName),function(item){return _c('span',{domProps:{\"textContent\":_vm._s(item)}})})],2)]):_vm._e(),_vm._v(\" \"),_c('FormItem',{attrs:{\"label\":\"营销周期\"}},[_c('span',[_vm._v(_vm._s(_vm.editData.beginTime)+\"-\"+_vm._s(_vm.editData.endTime))])]),_vm._v(\" \"),(_vm.detailData.scenesType=='其他场景')?[_c('FormItem',{attrs:{\"label\":\"品类偏好\"}},[_c('div',{staticClass:\"groups\"},_vm._l((_vm.editData.catName),function(item){return _c('span',{domProps:{\"textContent\":_vm._s(item)}})}))]),_vm._v(\" \"),_c('FormItem',{attrs:{\"label\":\"品牌偏好\"}},[_c('div',{staticClass:\"groups\"},_vm._l((_vm.editData.brandName),function(item){return _c('span',{domProps:{\"textContent\":_vm._s(item)}})}))]),_vm._v(\" \"),_c('FormItem',{attrs:{\"label\":\"平均客单价\"}},[_c('div',{staticClass:\"groups\"},_vm._l((_vm.editData.customerTransaction),function(item){return _c('span',{domProps:{\"textContent\":_vm._s(item)}})}))]),_vm._v(\" \"),_c('FormItem',{attrs:{\"label\":\"会员价值\"}},[_c('div',{staticClass:\"groups\"},_vm._l((_vm.editData.vipValue),function(item){return _c('span',{domProps:{\"textContent\":_vm._s(item)}})}))]),_vm._v(\" \"),_c('FormItem',{attrs:{\"label\":\"忠诚度\"}},[_c('div',{staticClass:\"groups\"},_vm._l((_vm.editData.loyalty),function(item){return _c('span',{domProps:{\"textContent\":_vm._s(item)}})}))]),_vm._v(\" \"),_c('FormItem',{attrs:{\"label\":\"流失等级\"}},[_c('div',{staticClass:\"groups\"},_vm._l((_vm.editData.lost),function(item){return _c('span',{domProps:{\"textContent\":_vm._s(item)}})}))]),_vm._v(\" \"),_c('FormItem',{attrs:{\"label\":\"性别\"}},[_c('div',{staticClass:\"groups\"},_vm._l((_vm.editData.gender),function(item){return _c('span',{domProps:{\"textContent\":_vm._s(item)}})}))]),_vm._v(\" \"),_c('FormItem',{attrs:{\"label\":\"年龄\"}},[_c('div',{staticClass:\"groups\"},_vm._l((_vm.editData.age),function(item){return _c('span',{domProps:{\"textContent\":_vm._s(item)}})}))])]:_vm._e(),_vm._v(\" \"),_c('FormItem',{attrs:{\"label\":\"会员范围\"}},[_c('div',{staticClass:\"groups\"},[(_vm.editData.regionName)?_c('span',[_vm._v(_vm._s(_vm.editData.regionName))]):_vm._e(),(_vm.editData.firstBranchName)?_c('span',[_vm._v(_vm._s(_vm.editData.firstBranchName))]):_vm._e(),(_vm.editData.secondBranchName)?_c('span',[_vm._v(_vm._s(_vm.editData.secondBranchName))]):_vm._e(),(_vm.editData.storeName)?_c('span',[_vm._v(_vm._s(_vm.editData.storeName))]):_vm._e()])])],2)],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"panel panel-default\"},[_c('Card',{attrs:{\"dis-hover\":\"\"}},[_c('p',{attrs:{\"slot\":\"title\"},slot:\"title\"},[_vm._v(\"基本信息设置\")]),_vm._v(\" \"),_c('i-form',{attrs:{\"model\":_vm.editData,\"label-width\":120}},[_c('FormItem',{attrs:{\"label\":\"人群名称\"}},[_c('span',[_vm._v(_vm._s(_vm.editData.crowdName))])]),_vm._v(\" \"),_c('FormItem',{attrs:{\"label\":\"推送渠道\"}},[_vm._v(\"\\n                    短信\\n                \")]),_vm._v(\" \"),_c('FormItem',{attrs:{\"label\":\"推送频次\"}},[(_vm.editData.frequency==0)?_c('span',[_vm._v(\"不限定\")]):_vm._e(),_vm._v(\" \"),(_vm.editData.frequency==1)?_c('div',{staticStyle:{\"display\":\"inline-block\"}},[_c('span',[_vm._v(\"推送周期内最多\")]),_vm._v(\" \"),_c('span',[_vm._v(_vm._s(_vm.editData.frequencyCount))]),_vm._v(\" \"),_c('span',[_vm._v(\"条\")])]):_vm._e()])],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"groups\"},[_c('i-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.backToList}},[_vm._v(\"返回\")])],1)],1)])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ __webpack_exports__[\"a\"] = (esExports);\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// static/js/23.0e68e5eaadf6db6ae9d8.js","var normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!../../../node_modules/iview-loader/index.js??ref--0-1!./Detail.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!../../../node_modules/iview-loader/index.js??ref--0-1!./Detail.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-73208520\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":\\\"src\\\",\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!../../../node_modules/iview-loader/index.js??ref--0-1!./Detail.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/crowd/Detail.vue\n// module id = 0qK6\n// module chunks = 23","<template id=\"tpl-detail\">\r\n    <div class=\"detail\">\r\n        <!--\r\n        流失挽回：不显示推广商品\r\n        其他场景：要显示——品类偏好、品牌偏好、平均客单价、综合购买力、忠诚度、流失等级、性别、年龄\r\n    -->\r\n        <div class=\"panel panel-default\">\r\n            <Card dis-hover>\r\n                <p slot=\"title\">营销场景设置</p>\r\n                <Form :label-width=\"120\">\r\n                    <FormItem label=\"营销场景\">\r\n                        <div class=\"groups\">\r\n                           <span>{{detailData.scenesType}}</span>\r\n                        </div>\r\n                    </FormItem>\r\n                    <!-- 流失挽回不显示\"推广商品\" -->\r\n                    <FormItem label=\"推广商品\" v-if=\"detailData.scenesType=='复购提升'\">\r\n                        <div class=\"groups\">\r\n                            <span v-for=\"item in editData.catName\" v-text=\"item\"></span>\r\n                            <span v-for=\"item in editData.brandName\" v-text=\"item\"></span>\r\n                        </div>\r\n                    </FormItem>\r\n                    <FormItem label=\"营销周期\">\r\n                        <span>{{editData.beginTime}}-{{editData.endTime}}</span>\r\n                    </FormItem>\r\n                    <!-- 其他场景 -->\r\n                    <template v-if=\"detailData.scenesType=='其他场景'\"  >\r\n                        <FormItem label=\"品类偏好\">\r\n                            <div class=\"groups\">\r\n                                <span v-for=\"item in editData.catName\" v-text=\"item\"></span>\r\n                            </div>\r\n                        </FormItem>\r\n                        <FormItem label=\"品牌偏好\">\r\n                            <div class=\"groups\">\r\n                                <span v-for=\"item in editData.brandName\" v-text=\"item\"></span>\r\n                            </div>\r\n                        </FormItem>\r\n                        <FormItem label=\"平均客单价\">\r\n                            <div class=\"groups\">\r\n                                <span  v-for=\"item in editData.customerTransaction\" v-text=\"item\"></span>\r\n                            </div>\r\n                        </FormItem>\r\n                        <FormItem label=\"会员价值\">\r\n                            <div class=\"groups\">\r\n                                <span v-for=\"item in editData.vipValue\" v-text=\"item\"></span>\r\n                            </div>\r\n                        </FormItem>\r\n                        <FormItem label=\"忠诚度\">\r\n                            <div class=\"groups\">\r\n                                <span v-for=\"item in editData.loyalty\" v-text=\"item\"></span>\r\n                            </div>\r\n                        </FormItem>\r\n                        <FormItem label=\"流失等级\">\r\n                            <div class=\"groups\">\r\n                                 <span v-for=\"item in editData.lost\" v-text=\"item\"></span>\r\n                            </div>\r\n                        </FormItem>\r\n                        <FormItem label=\"性别\">\r\n                            <div class=\"groups\">\r\n                                <span v-for=\"item in editData.gender \" v-text=\"item\"></span>\r\n                            </div>\r\n                        </FormItem>\r\n                        <FormItem label=\"年龄\">\r\n                            <div class=\"groups\">\r\n                                <span  v-for=\"item in editData.age \" v-text=\"item\"></span>\r\n                            </div>\r\n                        </FormItem>\r\n                    </template>\r\n                    <FormItem label=\"会员范围\">\r\n                        <div class=\"groups\">\r\n                            <span v-if=\"editData.regionName\">{{editData.regionName}}</span><span v-if=\"editData.firstBranchName\">{{editData.firstBranchName}}</span><span v-if=\"editData.secondBranchName\">{{editData.secondBranchName}}</span><span v-if=\"editData.storeName\">{{editData.storeName}}</span>\r\n                        </div>\r\n                    </FormItem>\r\n                </Form>\r\n            </Card>\r\n        </div>\r\n        <!-- 基本信息设置 -->\r\n        <div class=\"panel panel-default\">\r\n            <Card dis-hover>\r\n                <p slot=\"title\">基本信息设置</p>\r\n                <i-form :model=\"editData\" :label-width=\"120\">\r\n                    <FormItem label=\"人群名称\">\r\n                        <span>{{editData.crowdName}}</span>\r\n                    </FormItem>\r\n                    <FormItem label=\"推送渠道\">\r\n                        短信\r\n                    </FormItem>\r\n                    <FormItem label=\"推送频次\">\r\n                        <span v-if=\"editData.frequency==0\" >不限定</span>\r\n                        <div style=\"display: inline-block;\" v-if=\"editData.frequency==1\">\r\n                            <span>推送周期内最多</span>\r\n                            <span>{{editData.frequencyCount}}</span>\r\n                            <span>条</span>\r\n                        </div>\r\n                    </FormItem>\r\n                </i-form>\r\n            </Card>\r\n            <div class=\"groups\">\r\n                <i-button type=\"primary\" @click=\"backToList\">返回</i-button>\r\n                <!--<i-button type=\"primary\" @click=\"cal\">覆盖人数</i-button>-->\r\n                <!--<span v-text=\"editData.coverUser\"></span>-->\r\n            </div>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    export default {\r\n        data: function(){\r\n            return {\r\n                saveFields: [\"catPrefer\", \"catName\", \"brandPrefer\", \"brandName\", \"customerTransaction\", \"vipValue\", \"loyalty\", \"lost\", \"gender\", \"age\"],\r\n                // 交互用的数据，如品类下拉数据，品牌下拉数据\r\n                categories: [], // 品类\r\n                brands: {}, // 品牌\r\n                crowdList: [], // 人群\r\n                regions: [],\r\n                firstsubSections: [],\r\n                secondsubSections: [],\r\n                stores: [],\r\n                vipRange: \"1\",\r\n                catLoading: false,\r\n                spinShow:true,\r\n                saveBrands: {}, //保存未存在select下拉框的历史数据(品牌)\r\n                // 交互录入的数据\r\n                editData: {\r\n                    crowdId: '', // 营销场景\r\n                    dateRange: [], // 营销周期 t+1——不限\r\n                    beginTime: null,\r\n                    endTime: null,\r\n                    /* 会员范围 start */\r\n                    regionCode: '',//大区id\r\n                    regionName:'', //大区名\r\n                    firstBranch: '',//一级分部id\r\n                    firstBranchName:'', //一级分部名\r\n                    secondBranch: '',//二级分部id\r\n                    secondBranchName:'',//二级分部名\r\n                    store: '', //门店id\r\n                    storeName:'',//门店名\r\n                    /* 会员范围 end */\r\n                    // 基本信息\r\n                    crowdName: \"\", // 人群名称\r\n                    channel: 1, // 推送渠道\r\n                    frequency: 0, //推送限定\r\n                    frequencyCount: null, // 推送频次\r\n                    coverUser: null, // 覆盖人数\r\n\r\n                    createUser: null // 创建人\r\n                },\r\n                //默认选项\r\n                defaultData: {\r\n                    vipRanges: [\r\n                        {label: \"全部会员\", value: \"1\"},\r\n                        {label: \"大区会员\", value: \"2\"},\r\n                        {label: \"分部会员\", value: \"3\"},\r\n                        {label: \"门店会员\", value: \"4\"},\r\n                    ],\r\n                    vipBranchs: [\r\n                        {label: \"一级分部\", value: \"1\"},\r\n                        {label: \"二级分部\", value: \"2\"},\r\n                    ],\r\n                },\r\n                detailData: {\r\n                    scenesType: \"\",\r\n                    stage: null,\r\n                    tempStage: null\r\n                }\r\n            }\r\n        },\r\n        methods: {\r\n            getEditData: function(){\r\n                var _vm = this;\r\n                //this.spinShow=true;\r\n                return axios.get(getUrl(\"crow/crowInfo\"), {loading: true,unload: true, params: {id: this.$route.query.id}})\r\n                        .then(function(res){\r\n                            _vm.spinShow=false;\r\n                            var result = res.crowInfo || {},fileds=_vm.saveFields;\r\n                            result.beginTime=DateFormat(result.beginTime).toString('yyyy.MM.dd');\r\n                            result.endTime=DateFormat(result.endTime).toString('yyyy.MM.dd');\r\n                            _vm.editData = result;\r\n                            for(var k in _vm.editData){\r\n                                if(fileds.indexOf(k)>-1){\r\n                                    //_vm.editData[k]=_vm.editData[k].replace(/,/g,\" \");\r\n                                    // _vm.editData[k] && (_vm.editData[k]=_vm.editData[k].split(',')) ;\r\n                                    if(_vm.editData[k]){\r\n                                        _vm.editData[k]=_vm.editData[k].split(',')\r\n                                        /*_vm.editData[k] = _vm.editData[k].map(function (item, cur) {\r\n                                         if(item == ''){\r\n                                         _vm.editData[k].splice(cur,1);\r\n                                         }\r\n                                         return item;\r\n                                         })*/\r\n                                        for(var i = 0;i < _vm.editData[k].length;i++){\r\n                                            if(!_vm.editData[k][i]){\r\n                                                _vm.editData[k].splice(i,1);\r\n                                            }\r\n                                        }\r\n                                    }\r\n                                }\r\n                            }\r\n                        })\r\n            },\r\n            backToList: function () {\r\n                this.$store.state.path = \"main\";\r\n                this.$router.push(\"/crowd/list.html\");\r\n            },\r\n        },\r\n        mounted:function(){\r\n            this.detailData.scenesType = {stage1: \"复购提升\", stage2: \"流失挽回\", other: \"其他场景\"}[this.$route.query.stage];\r\n            this.getEditData();\r\n        }\r\n    }\r\n</script>\n\n\n// WEBPACK FOOTER //\n// src/pages/crowd/Detail.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"detail\"},[_c('div',{staticClass:\"panel panel-default\"},[_c('Card',{attrs:{\"dis-hover\":\"\"}},[_c('p',{attrs:{\"slot\":\"title\"},slot:\"title\"},[_vm._v(\"营销场景设置\")]),_vm._v(\" \"),_c('Form',{attrs:{\"label-width\":120}},[_c('FormItem',{attrs:{\"label\":\"营销场景\"}},[_c('div',{staticClass:\"groups\"},[_c('span',[_vm._v(_vm._s(_vm.detailData.scenesType))])])]),_vm._v(\" \"),(_vm.detailData.scenesType=='复购提升')?_c('FormItem',{attrs:{\"label\":\"推广商品\"}},[_c('div',{staticClass:\"groups\"},[_vm._l((_vm.editData.catName),function(item){return _c('span',{domProps:{\"textContent\":_vm._s(item)}})}),_vm._v(\" \"),_vm._l((_vm.editData.brandName),function(item){return _c('span',{domProps:{\"textContent\":_vm._s(item)}})})],2)]):_vm._e(),_vm._v(\" \"),_c('FormItem',{attrs:{\"label\":\"营销周期\"}},[_c('span',[_vm._v(_vm._s(_vm.editData.beginTime)+\"-\"+_vm._s(_vm.editData.endTime))])]),_vm._v(\" \"),(_vm.detailData.scenesType=='其他场景')?[_c('FormItem',{attrs:{\"label\":\"品类偏好\"}},[_c('div',{staticClass:\"groups\"},_vm._l((_vm.editData.catName),function(item){return _c('span',{domProps:{\"textContent\":_vm._s(item)}})}))]),_vm._v(\" \"),_c('FormItem',{attrs:{\"label\":\"品牌偏好\"}},[_c('div',{staticClass:\"groups\"},_vm._l((_vm.editData.brandName),function(item){return _c('span',{domProps:{\"textContent\":_vm._s(item)}})}))]),_vm._v(\" \"),_c('FormItem',{attrs:{\"label\":\"平均客单价\"}},[_c('div',{staticClass:\"groups\"},_vm._l((_vm.editData.customerTransaction),function(item){return _c('span',{domProps:{\"textContent\":_vm._s(item)}})}))]),_vm._v(\" \"),_c('FormItem',{attrs:{\"label\":\"会员价值\"}},[_c('div',{staticClass:\"groups\"},_vm._l((_vm.editData.vipValue),function(item){return _c('span',{domProps:{\"textContent\":_vm._s(item)}})}))]),_vm._v(\" \"),_c('FormItem',{attrs:{\"label\":\"忠诚度\"}},[_c('div',{staticClass:\"groups\"},_vm._l((_vm.editData.loyalty),function(item){return _c('span',{domProps:{\"textContent\":_vm._s(item)}})}))]),_vm._v(\" \"),_c('FormItem',{attrs:{\"label\":\"流失等级\"}},[_c('div',{staticClass:\"groups\"},_vm._l((_vm.editData.lost),function(item){return _c('span',{domProps:{\"textContent\":_vm._s(item)}})}))]),_vm._v(\" \"),_c('FormItem',{attrs:{\"label\":\"性别\"}},[_c('div',{staticClass:\"groups\"},_vm._l((_vm.editData.gender),function(item){return _c('span',{domProps:{\"textContent\":_vm._s(item)}})}))]),_vm._v(\" \"),_c('FormItem',{attrs:{\"label\":\"年龄\"}},[_c('div',{staticClass:\"groups\"},_vm._l((_vm.editData.age),function(item){return _c('span',{domProps:{\"textContent\":_vm._s(item)}})}))])]:_vm._e(),_vm._v(\" \"),_c('FormItem',{attrs:{\"label\":\"会员范围\"}},[_c('div',{staticClass:\"groups\"},[(_vm.editData.regionName)?_c('span',[_vm._v(_vm._s(_vm.editData.regionName))]):_vm._e(),(_vm.editData.firstBranchName)?_c('span',[_vm._v(_vm._s(_vm.editData.firstBranchName))]):_vm._e(),(_vm.editData.secondBranchName)?_c('span',[_vm._v(_vm._s(_vm.editData.secondBranchName))]):_vm._e(),(_vm.editData.storeName)?_c('span',[_vm._v(_vm._s(_vm.editData.storeName))]):_vm._e()])])],2)],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"panel panel-default\"},[_c('Card',{attrs:{\"dis-hover\":\"\"}},[_c('p',{attrs:{\"slot\":\"title\"},slot:\"title\"},[_vm._v(\"基本信息设置\")]),_vm._v(\" \"),_c('i-form',{attrs:{\"model\":_vm.editData,\"label-width\":120}},[_c('FormItem',{attrs:{\"label\":\"人群名称\"}},[_c('span',[_vm._v(_vm._s(_vm.editData.crowdName))])]),_vm._v(\" \"),_c('FormItem',{attrs:{\"label\":\"推送渠道\"}},[_vm._v(\"\\n                    短信\\n                \")]),_vm._v(\" \"),_c('FormItem',{attrs:{\"label\":\"推送频次\"}},[(_vm.editData.frequency==0)?_c('span',[_vm._v(\"不限定\")]):_vm._e(),_vm._v(\" \"),(_vm.editData.frequency==1)?_c('div',{staticStyle:{\"display\":\"inline-block\"}},[_c('span',[_vm._v(\"推送周期内最多\")]),_vm._v(\" \"),_c('span',[_vm._v(_vm._s(_vm.editData.frequencyCount))]),_vm._v(\" \"),_c('span',[_vm._v(\"条\")])]):_vm._e()])],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"groups\"},[_c('i-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.backToList}},[_vm._v(\"返回\")])],1)],1)])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-73208520\",\"hasScoped\":false,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./node_modules/iview-loader??ref--0-1!./src/pages/crowd/Detail.vue\n// module id = VPPF\n// module chunks = 23"],"sourceRoot":""}